<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</head>

<body>
  <script>
    var stateKeys = {
      Alabama: "AL",
      Alaska: "AK",
      "American Samoa": "AS",
      Arizona: "AZ",
      Arkansas: "AR",
      California: "CA",
      Colorado: "CO",
      Connecticut: "CT",
      Delaware: "DE",
      "District Of Columbia": "DC",
      "Federated States Of Micronesia": "FM",
      Florida: "FL",
      Georgia: "GA",
      Guam: "GU",
      Hawaii: "HI",
      Idaho: "ID",
      Illinois: "IL",
      Indiana: "IN",
      Iowa: "IA",
      Kansas: "KS",
      Kentucky: "KY",
      Louisiana: "LA",
      Maine: "ME",
      "Marshall Islands": "MH",
      Maryland: "MD",
      Massachusetts: "MA",
      Michigan: "MI",
      Minnesota: "MN",
      Mississippi: "MS",
      Missouri: "MO",
      Montana: "MT",
      Nebraska: "NE",
      Nevada: "NV",
      "New Hampshire": "NH",
      "New Jersey": "NJ",
      "New Mexico": "NM",
      "New York": "NY",
      "North Carolina": "NC",
      "North Dakota": "ND",
      "Northern Mariana Islands": "MP",
      Ohio: "OH",
      Oklahoma: "OK",
      Oregon: "OR",
      Palau: "PW",
      Pennsylvania: "PA",
      "Puerto Rico": "PR",
      "Rhode Island": "RI",
      "South Carolina": "SC",
      "South Dakota": "SD",
      Tennessee: "TN",
      Texas: "TX",
      Utah: "UT",
      Vermont: "VT",
      "Virgin Islands": "VI",
      Virginia: "VA",
      Washington: "WA",
      "West Virginia": "WV",
      Wisconsin: "WI",
      Wyoming: "WY"
    };


    //Create array of state names from stateKeys object
    var stateNames = Object.keys(stateKeys);

    //alan's api key for NPS and NPS api base url
    var apiKey = "&key=AIzaSyAUT_uQfRlZvRyGLMsgk_EPngCAAFufYUE";
    var apiURL = "https://maps.googleapis.com/maps/api/place/findplacefromtext/json?";

    //Just simple div holders
    var div1 = $("<div>").addClass("div1");
    var div2 = $("<div>").addClass("div2");
    $(document.body).append(div1);
    $(document.body).append(div2);

    //Dropdown menu
    var stateSelect = $("<select>").addClass("state-select");
    //Dropdown menu button
    var goBtn = $("<button>")
      .addClass("btn btn-go")
      .text("Go");

    //Append all states to dropdown menu
    for (let i = 0; i < stateNames.length; i++) {
      const element = stateNames[i];
      stateSelect.append(
        $("<option>")
          .addClass("btn btn-" + stateNames[i])
          .val(stateNames[i])
          .text(stateNames[i])
      );
    }

    //Append the dropdown menu and button
    div1.append(stateSelect);
    div1.append(goBtn);

    //Go button clicked!
    goBtn.click(() => {
      //Disable the button!
      goBtn.attr("disabled", true);
      //Empty the content div for the new content
      div2.empty();
      //Set state variable to user-selected state
      var input = "input=" + stateSelect.val();
      //API CALL
      $.ajax({
        url: "https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=Museum%20of%20Contemporary%20Art%20Australia&inputtype=textquery&fields=photos,formatted_address,name,rating,opening_hours,geometry" + apiKey,
        method: "GET"
      }).then(function (response) {
        console.log(response);
      });

    });
  </script>
</body>

</html>